# application（应用层）

## 设计思路

应用层负责“把事情串起来”：市场发现、订阅管理、信号检测、事件输出。这里不直接碰外部系统，而是通过 ports 调用。

## 好处

- 编排清晰：谁负责发现、谁负责监控、谁负责输出一目了然。
- 方便扩展：加新规则/新流程不影响底层 adapter。
- 便于测试：核心逻辑可用假端口隔离外部依赖。

## 主要模块

- `component.py`：整体运行的组件编排入口。
- `discovery.py`：市场发现与筛选。
- `monitor.py`：信号检测（大单、放量、重大变动等）。
- `orderbook.py`：盘口缓存与订阅列表维护。
- `parsers.py`：外部消息解析成内部模型。
- `types.py`：应用层数据结构。

## 怎么用

- 想改“重大变动”规则：看 `monitor.py` 的 `SignalDetector`。
- 想改选股/筛选：看 `discovery.py`。
- 想改运行流程：看 `component.py`。
